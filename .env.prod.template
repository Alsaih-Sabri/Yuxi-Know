# Production Environment Configuration Template
# Copy to .env.prod and fill in values
# NEVER commit .env.prod to git

# ============================================================================
# ENVIRONMENT
# ============================================================================
ENVIRONMENT=production

# ============================================================================
# DOMAIN & SECURITY
# ============================================================================
DOMAIN=yourdomain.com
ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com

# Admin credentials (use Docker secrets in production)
# These point to secret files, not actual values
YUXI_SUPER_ADMIN_NAME=admin
YUXI_SUPER_ADMIN_PASSWORD_FILE=/run/secrets/admin_password

# JWT secret for token signing
JWT_SECRET_FILE=/run/secrets/jwt_secret

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Neo4j
NEO4J_URI=bolt://graph:7687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD_FILE=/run/secrets/neo4j_password

# Milvus
MILVUS_URI=http://milvus:19530
MILVUS_DB_NAME=default
MILVUS_TOKEN=

# MinIO (use secrets in production)
MINIO_URI=http://milvus-minio:9000
MINIO_ACCESS_KEY_FILE=/run/secrets/minio_access_key
MINIO_SECRET_KEY_FILE=/run/secrets/minio_secret_key

# ============================================================================
# LLM API KEYS (use Docker secrets)
# ============================================================================
# Point to secret files instead of hardcoding keys
OPENAI_API_KEY_FILE=/run/secrets/openai_api_key
OPENAI_API_BASE=https://api.openai.com/v1/

SILICONFLOW_API_KEY_FILE=/run/secrets/siliconflow_api_key
TAVILY_API_KEY_FILE=/run/secrets/tavily_api_key
DEEPSEEK_API_KEY_FILE=/run/secrets/deepseek_api_key
GEMINI_API_KEY_FILE=/run/secrets/gemini_api_key
VOYAGE_API_KEY_FILE=/run/secrets/voyage_api_key

# Optional API keys
# ZHIPUAI_API_KEY_FILE=/run/secrets/zhipuai_api_key
# DASHSCOPE_API_KEY_FILE=/run/secrets/dashscope_api_key
# ARK_API_KEY_FILE=/run/secrets/ark_api_key

# ============================================================================
# OCR SERVICES
# ============================================================================
# MinerU Official API
MINERU_OCR_URI=http://mineru:30000
# MINERU_ACCESS_KEY_ID_FILE=/run/secrets/mineru_access_key
# MINERU_SECRET_ACCESS_KEY_FILE=/run/secrets/mineru_secret_key

# PaddleX
PADDLEX_URI=http://paddlex:8080

# Google Cloud Vision OCR
# GOOGLE_APPLICATION_CREDENTIALS=/run/secrets/google_credentials.json

# ============================================================================
# FEATURE FLAGS
# ============================================================================
ENABLE_REGISTRATION=false
ENABLE_PUBLIC_ACCESS=false
REQUIRE_EMAIL_VERIFICATION=true

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_PER_DAY=10000

# ============================================================================
# LOGGING & MONITORING
# ============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
ENABLE_ACCESS_LOG=true
ENABLE_AUDIT_LOG=true

# Prometheus metrics
PROMETHEUS_ENABLED=true
METRICS_PORT=9090

# ============================================================================
# PERFORMANCE
# ============================================================================
MAX_WORKERS=4
CACHE_TTL=300
QUERY_TIMEOUT=30
MAX_UPLOAD_SIZE=100M

# ============================================================================
# BACKUP
# ============================================================================
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM

# ============================================================================
# DOCKER INTERNAL
# ============================================================================
MODEL_DIR_IN_DOCKER=/models
RUNNING_IN_DOCKER=true
SAVE_DIR=/app/saves

# Proxy settings (if needed)
# HTTP_PROXY=
# HTTPS_PROXY=
# NO_PROXY=localhost,127.0.0.1,milvus,graph,milvus-minio,etcd,minio
